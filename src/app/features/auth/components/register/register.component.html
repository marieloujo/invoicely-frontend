<div class="p-lg-5 p-4">
    <div class="text-center">
        <h5 class="mb-0">Create New Account</h5>
        <p class="text-muted mt-2">Get your free Invoika account now</p>
        @if (errorMessage) {
            <div class="invalid-feedback">{{ errorMessage }}</div>
        }
    </div>

    <div class="mt-4">
        <form class="auth-input" [formGroup]="registerForm" (submit)="register()">
            <div class="mb-3">
                <label for="name" class="form-label">Nom & Prénom <sup class="text-danger">*</sup> </label>
                <input type="text" class="form-control" id="name" formControlName="name">
                <app-form-error [control]="registerForm.get('name')"></app-form-error>
                
            </div>

            <div class="mb-3">
                <label for="email" class="form-label">Email <sup class="text-danger">*</sup> </label>
                <input type="text" class="form-control" id="email" formControlName="email">
                <app-form-error [control]="registerForm.get('email')"></app-form-error>
            </div>

            <div class="mb-3">
                <label for="userpassword" class="form-label">Mot de passe <sup class="text-danger">*</sup> </label>
                <div class="position-relative auth-pass-inputgroup">
                    <input type="password" class="form-control pe-5 password-input" id="password-input" formControlName="password">
                    <button class="btn btn-link position-absolute end-0 top-0 text-decoration-none text-muted password-addon" type="button" id="password-addon">
                        <i class="las la-eye align-middle fs-18"></i>
                    </button>
               </div>
               <app-form-error [control]="registerForm.get('password')"></app-form-error>
            </div>

            <div class="mb-3">
                <label for="password-confirmation" class="form-label">Confirmer le mot de passe <sup class="text-danger">*</sup> </label>
                <div class="position-relative auth-pass-inputgroup">
                    <input type="password" class="form-control pe-5 password-input" id="password-confirmation" formControlName="passwordConfirmation">
                    <button class="btn btn-link position-absolute end-0 top-0 text-decoration-none text-muted password-addon" type="button" id="password-addon">
                        <i class="las la-eye align-middle fs-18"></i>
                    </button>
               </div>
               <app-form-error [control]="registerForm.get('passwordConfirmation')"></app-form-error>
            </div>

            <div class="mb-3">
                <label class="form-label">Système de facturation <sup class="text-danger">*</sup> </label>
                <select class="form-select mb-3" formControlName="type">
                    <option [value]="typeFacturations.at(0)">Gestion de service</option>
                    <option [value]="typeFacturations.at(1)">Gestion de produit</option>
                </select>
                <app-form-error [control]="registerForm.get('type')"></app-form-error>
            </div>

            <app-auth-button [loading]="loading" name="S'enregistrer"></app-auth-button>

            <div class="mt-4 text-center">
                <p class="mb-0">Don't have an account ?
                    <a routerLink="/auth/login"class="fw-medium text-primary text-decoration-underline"> Signin </a>
                </p>
            </div>
        </form>
    </div>

</div>